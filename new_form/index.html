<!DOCTYPE html>
<html>
  <head>
    <title>User Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body class="gradient-background min-h-screen">
    <div class="container mx-auto px-4 py-8">
      <!-- Form Section -->
      <section class="flex justify-center items-center min-h-[50vh]">
        <form
          method="POST"
          action="process.php"
          id="mainForm"
          class="bg-white/10 backdrop-blur-sm p-8 rounded-2xl shadow-xl w-full max-w-md"
        >
          <!-- Add name="add" to identify this as the add form -->
          <input type="hidden" name="add" value="1" />

          <h2 class="text-2xl font-bold text-center text-white mb-2">
            Sign Up
          </h2>
          <p class="text-sm text-white/70 text-center mb-6">
            Provide your info to register
          </p>

          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-white text-sm font-semibold mb-1"
                >First Name</label
              >
              <input
                type="text"
                name="fname"
                required
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
            </div>
            <div>
              <label class="block text-white text-sm font-semibold mb-1"
                >Last Name</label
              >
              <input
                type="text"
                name="lname"
                required
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
            </div>
          </div>

          <div class="mt-4">
            <label class="block text-white text-sm font-semibold mb-1"
              >Email</label
            >
            <input
              type="email"
              name="email"
              required
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            />
          </div>

          <div class="mt-4">
            <label class="block text-white text-sm font-semibold mb-1"
              >Password</label
            >
            <input
              type="password"
              name="password"
              required
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            />
          </div>

          <div class="grid grid-cols-2 gap-4 mt-4">
            <div>
              <label class="block text-white text-sm font-semibold mb-1"
                >Date of Birth</label
              >
              <input
                type="date"
                name="dob"
                required
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
            </div>
            <div>
              <label class="block text-white text-sm font-semibold mb-1"
                >Phone</label
              >
              <input
                type="tel"
                name="phone"
                required
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
            </div>
          </div>

          <div class="mt-4">
            <label class="block text-white text-sm font-semibold mb-1"
              >Address</label
            >
            <textarea
              name="address"
              required
              rows="3"
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            ></textarea>
          </div>

          <div class="grid grid-cols-2 gap-4 mt-4">
            <div>
              <label class="block text-white text-sm font-semibold mb-1"
                >Gender</label
              >
              <select
                name="gender"
                required
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              >
                <option value="">Select</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
              </select>
            </div>
            <div>
              <label class="block text-white text-sm font-semibold mb-1"
                >Subscription</label
              >
              <select
                name="subscription"
                required
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              >
                <option value="">Select</option>
                <option value="basic">Basic</option>
                <option value="premium">Premium</option>
                <option value="enterprise">Enterprise</option>
              </select>
            </div>
          </div>

          <button
            type="submit"
            class="w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-300 transform hover:scale-105"
          >
            SUBMIT
          </button>

          <p class="text-sm text-white/70 text-center mt-4">
            Already have an account?
            <span class="font-bold text-white cursor-pointer">Sign In</span>
          </p>
        </form>
      </section>

      <!-- Data Display Section -->
      <div class="max-w-6xl mx-auto mt-12">
        <h3 class="text-2xl font-bold text-white text-center mb-6">
          Saved Data
        </h3>

        <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
          <ul role="list" class="divide-y divide-gray-200" id="userList">
            <!-- User data will be loaded here dynamically -->
            <div class="p-8 text-center text-gray-500">Loading users...</div>
          </ul>
        </div>
      </div>
    </div>

    <!-- Edit Modal -->
    <div
      id="editModal"
      class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4"
    >
      <div class="bg-white rounded-2xl w-full max-w-md mx-auto animate-fade-in">
        <div class="p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-xl font-bold text-gray-900">Edit User</h3>
            <button
              onclick="closeEditModal()"
              class="text-gray-400 hover:text-gray-600 transition"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                ></path>
              </svg>
            </button>
          </div>

          <form id="editForm" method="POST" action="process.php">
            <input type="hidden" name="id" id="editId" />
            <input type="hidden" name="edit" value="1" />

            <div class="space-y-4 max-h-96 overflow-y-auto pr-2">
              <div class="grid grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-1"
                    >First Name *</label
                  >
                  <input
                    type="text"
                    name="fname"
                    id="editFname"
                    required
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-1"
                    >Last Name *</label
                  >
                  <input
                    type="text"
                    name="lname"
                    id="editLname"
                    required
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
              </div>

              <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1"
                  >Email *</label
                >
                <input
                  type="email"
                  name="email"
                  id="editEmail"
                  required
                  class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                />
              </div>

              <div class="grid grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-1"
                    >Phone *</label
                  >
                  <input
                    type="tel"
                    name="phone"
                    id="editPhone"
                    required
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-1"
                    >Date of Birth *</label
                  >
                  <input
                    type="date"
                    name="dob"
                    id="editDob"
                    required
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
              </div>

              <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1"
                  >Address *</label
                >
                <textarea
                  name="address"
                  id="editAddress"
                  required
                  rows="3"
                  class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                ></textarea>
              </div>

              <div class="grid grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-1"
                    >Gender *</label
                  >
                  <select
                    name="gender"
                    id="editGender"
                    required
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  >
                    <option value="">Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-1"
                    >Subscription *</label
                  >
                  <select
                    name="subscription"
                    id="editSubscription"
                    required
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  >
                    <option value="">Select Plan</option>
                    <option value="basic">Basic</option>
                    <option value="premium">Premium</option>
                    <option value="enterprise">Enterprise</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="flex space-x-3 mt-6 pt-4 border-t border-gray-200">
              <button
                type="submit"
                class="flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105"
              >
                Update User
              </button>
              <button
                type="button"
                onclick="closeEditModal()"
                class="flex-1 bg-gray-500 text-white py-3 rounded-lg hover:bg-gray-600 transition duration-200 font-semibold"
              >
                Cancel
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Success Message (optional) -->
    <div
      id="successMessage"
      class="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg hidden z-50"
    >
      User added successfully!
    </div>

    <script src="script.js"></script>

    <style>
      .animate-fade-in {
        animation: fadeIn 0.3s ease-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Custom scrollbar for modal */
      #editModal .overflow-y-auto::-webkit-scrollbar {
        width: 6px;
      }

      #editModal .overflow-y-auto::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 3px;
      }

      #editModal .overflow-y-auto::-webkit-scrollbar-thumb {
        background: #c1c1c1;
        border-radius: 3px;
      }

      #editModal .overflow-y-auto::-webkit-scrollbar-thumb:hover {
        background: #a8a8a8;
      }
    </style>
  </body>
</html>
